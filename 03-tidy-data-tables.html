<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>FAIR for busy biologists: Tidy (meta)data tables</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/03-tidy-data-tables.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      FAIR for busy biologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            FAIR for busy biologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  FAIR for busy biologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 35%" class="percentage">
    35%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 35%" aria-valuenow="35" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/03-tidy-data-tables.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-OS-and-FAIR.html">1. Introduction to Open Science and FAIR principles</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-Intro-to-metadata.html">2. Introduction to metadata</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Tidy (meta)data tables
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#common-spreadsheet-errors">Common Spreadsheet Errors</a></li>
<li><a href="#clean-data-tables-make-life-easier">Clean data tables make life easier</a></li>
<li><a href="#handling-dates">Handling dates</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-files-organization.html">4. Working with files</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-reusable-analysis.html">5. Reusable analysis</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-data-repositories.html">6. Public repositories</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07-journey-to-FAIR.html">7. Journey to be FAIR</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="02-Intro-to-metadata.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="04-files-organization.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="02-Intro-to-metadata.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Introduction to
        </a>
        <a class="chapter-link float-end" href="04-files-organization.html" rel="next">
          Next: Working with files... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Tidy (meta)data tables</h1>
        <p>Last updated on 2024-03-22 |
        
        <a href="https://github.com/BioRDM/fair-for-busy-biologists/edit/main/episodes/03-tidy-data-tables.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How to represent data in tables</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Do’s and don’ts in Excel</li>
<li>Understand how good table organization aids data reusability.</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>(10 min teaching if 1st exc skipped and done as demo)</p>
<p>Tables are a powerful and ubiquitous tool for storing and presenting
information. We encounter them everywhere, from restaurant menus and
bank statements to scientific databases. As biologists, we heavily rely
on tables, often utilizing spreadsheets like Excel.</p>
<p>Excel offers ease of use, flexibility, and power. However, this very
freedom can lead to bad practices that hinder data and metadata
reusability.</p>
<div id="exercise-1-what-can-go-wrong-with-data-in-excel-5-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1-what-can-go-wrong-with-data-in-excel-5-min" class="callout-inner">
<h3 class="callout-title">Exercise 1: What can go wrong with data in
Excel (5 min)<a class="anchor" aria-label="anchor" href="#exercise-1-what-can-go-wrong-with-data-in-excel-5-min"></a>
</h3>
<div class="callout-content">
<p>We suggest the instuctor to go through problems, instead</p>
<p>Have a look at the example <a href="./files/04-bad-metadata.xlsx">data-file</a> in Excel.</p>
<figure><img src="./fig/bad-metadata.png" alt="bad-metadata" class="figure mx-auto d-block"><div class="figcaption">bad-metadata</div>
</figure><p>This data resembles plant experiment results under various light
conditions. Imagine you’re tasked with working on this file.</p>
<ol style="list-style-type: decimal"><li>What aspects of this table appear confusing?</li>
<li>What clarifications would you seek from the original author before
using this data?</li>
<li>How would calculating average biomass or biomass per genotype be
problematic with this format?</li>
<li>Advanced data analysis often involves programmatic manipulation.
This requires converting the data to a text format like CSV or TSV, or
using libraries that can “read and convert Excel files on the fly.” Save
this file in a text format, close Excel, and then reopen the saved file.
What changes occur?</li>
</ol><p>Have you encountered similar tables in your experience? Do you
believe this example realistically reflects common issues?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>This file hopefully unrealistically exacerbates typical bad practices
in Excel. 1+2. Some things that may be confusing:</p>
<ul><li>Why are there two tables, are the period measurement related to the
metabolics i.e. same samples?</li>
<li>Do colors in the period table have the same meaning? Seems no.</li>
<li>Why can row 22 be read, whilst row 13 says error?</li>
<li>What is the meaning of values in the media column?</li>
<li>Are the genotypes the same in different blocks or not?</li>
<li>What is the meaning behind bold text in the table?</li>
<li>What is the definition of the terms/why are units
missing/inconsistent?</li>
</ul><ol start="3" style="list-style-type: decimal"><li><em>calculations</em></li>
</ol><ul><li>Biomass weights must be in the same unit before averaging. Any text
entries need to be replaced with the appropriate value.</li>
<li>Averaging biomass per genotype requires manually selecting relevant
entries.</li>
</ul><ol start="4" style="list-style-type: decimal"><li><em>saving to txt</em></li>
</ol><ul><li>Information about light conditions is entirely lost.</li>
<li>Header column order might be scrambled.</li>
<li>The update date format may change meaning depending on location
(e.g., switching year and day order).</li>
</ul></div>
</div>
</div>
</div>
<section id="common-spreadsheet-errors"><h2 class="section-heading">Common Spreadsheet Errors<a class="anchor" aria-label="anchor" href="#common-spreadsheet-errors"></a>
</h2>
<hr class="half-width"><p>(25 min teaching)</p>
<div class="section level3">
<h3 id="using-multiple-tables">
<a name="tables"></a> 1. Using multiple tables<a class="anchor" aria-label="anchor" href="#using-multiple-tables"></a></h3>
<p>Multiple data tables within one spreadsheet can confuse both humans
and computers:</p>
<ul><li>For humans, they can prompt finding associations where they are not
present.</li>
<li>For computers, each spreadsheet row is typically treated as one
observation.</li>
</ul><p>Additionally, you may potentially use the same field name in multiple
places.</p>
<p>In our example, both column A and K named <code>sample</code>
represent different information, and values in row 6 from both parts are
not related.</p>
</div>
<div class="section level3">
<h3 id="using-multiple-tabs">
<a name="tabs"></a> 2. Using multiple tabs<a class="anchor" aria-label="anchor" href="#using-multiple-tabs"></a></h3>
<p>Using multiple tabs might seem like an easy way to organize data, but
it has its drawbacks:</p>
<ul><li>Tabs make it more difficult to perform programmatic analysis.</li>
<li>Tabs can be ignored (under the radar) when opening files. For
example, the recently used tab is shown first, and other users may not
notice that there are many other tabs before it (we have seen this
happen frequently when importing data).</li>
</ul><p>However,</p>
<ul><li>Tabs seem like a perfect place to add administrative, descriptive
metadata so they are next to data without “polluting” the data
table.</li>
<li>Having secondary data next to primary in subsequent tabs permits
easy inspection of all without a need to always send a collection of
files.</li>
</ul><p>Our recommendation: Use tabs with caution; the more automatic
analysis you do, the less frequently you should use tabs.</p>
</div>
<div class="section level3">
<h3 id="not-filling-in-zeros">
<a name="zeros"></a> 3. Not filling in zeros<a class="anchor" aria-label="anchor" href="#not-filling-in-zeros"></a></h3>
<p>You might think that when you’re measuring something and it’s usually
a zero, like the number of times a rabbit is observed in a survey, why
bother writing in the number zero in that column when it’s mostly
zeros?</p>
<p>However, there’s a difference between a zero and a blank cell in a
spreadsheet. To the computer, a zero is data - you measured or counted
it. A blank cell means that it wasn’t measured, and the computer will
interpret it as an unknown value (otherwise known as a null value).</p>
<p>Spreadsheets or statistical programs will likely misinterpret blank
cells that you intend to be zeros.</p>
<p>Because of this, it’s very important to record zeros as zeros and
truly missing data as nulls.</p>
</div>
<div class="section level3">
<h3 id="using-problematic-null-values">
<a name="null"></a> 4. Using problematic null values<a class="anchor" aria-label="anchor" href="#using-problematic-null-values"></a></h3>
<p>For example: using -999, -1, or 0 (other numerical values) to
represent missing data.</p>
<p>Other times, different null values are used to convey different
reasons why the data isn’t there. For example, -1 for not recorded, -2
for contamination, etc.</p>
<p>This is important information to capture, but effectively uses one
column to capture two pieces (real values and comment or status). It
would be good here to create a new column like ‘data_missing’ and use
that column to capture the different reasons.</p>
<p>Whatever the reason, it’s a problem if unknown or missing data is
recorded as -999, 999, or 0. Many statistical programs will not
recognize that these are intended to represent missing (null)
values.</p>
<p>It is essential to use a clearly defined and consistent null
indicator. Blanks (most applications) and NA (for R) are good
choices.</p>
<p>White et al. (2013) explain good choices for indicating null values
for different software applications in their article: <a href="https://peerj.com/preprints/7/" class="external-link">Nine simple ways to make it easier
to (re)use your data.</a> Ideas in Ecology and Evolution.</p>
<figure><img src="./fig/null_values_table_1.jpg" alt="White et al." class="figure mx-auto d-block"><div class="figcaption">White et al.</div>
</figure></div>
<div class="section level3">
<h3 id="using-formatting-to-convey-information-organizing-data">
<a name="formatting"></a> 5. Using formatting to convey information
organizing data<a class="anchor" aria-label="anchor" href="#using-formatting-to-convey-information-organizing-data"></a></h3>
<p>Never highlight cells, rows, or columns that should be excluded from
an analysis, or to mark particular properties/conditions.</p>
<p>In our example file, information about light conditions is only
encoded as a color. Formatting information is not available to analysis
software and almost certainly will be lost during processing.</p>
<p>All the information should be encoded as a field value, for example,
in columns like:<br>
condition, calibrated,<br>
validated, omitted, etc.</p>
<p>You can still use colors/fonts to help with readability (just make
sure they help and don’t distract) but no information should be lost if
data is exported to plain text.</p>
<p>If you are not careful, formatting a worksheet to be more
aesthetically pleasing can compromise your computer’s ability to see
associations in the data.</p>
<p><strong>Never merge cells, as it will make your data unreadable by
statistics software</strong>.</p>
<p>Don’t leave blank rows to indicate separations in data</p>
</div>
<div class="section level3">
<h3 id="placing-comments-or-units-in-cells">
<a name="units"></a> 6. Placing comments or units in cells<a class="anchor" aria-label="anchor" href="#placing-comments-or-units-in-cells"></a></h3>
<p>Most analysis software can’t see Excel or LibreOffice comments, and
would be confused by comments placed within your data cells.</p>
<p>As described above for formatting, create another field if you need
to add notes to cells.</p>
<p>Similarly, don’t include units in cells: ideally, all the
measurements you place in one column should have the same unit, but if
for some reason they don’t, create another field and specify the unit. A
field value <code>0.123 g</code> will need to be parsed by a script into
<code>0.123</code> and <code>g</code> in order to be used for
calculations, don’t add extra work for others.</p>
</div>
<div class="section level3">
<h3 id="entering-more-than-one-piece-of-information-in-a-cell">
<a name="info"></a> 7. Entering more than one piece of information
in a cell<a class="anchor" aria-label="anchor" href="#entering-more-than-one-piece-of-information-in-a-cell"></a></h3>
<p>Don’t include more than one piece of information in a cell (like
<code>M30</code>, <code>F25</code>, for male age 30 and female 25, or
<code>Red light + Ampicilin + High nitrogen</code>).</p>
<p>This will limit the ways in which you can analyze your data. Design
your data sheet to include this information. For example, include one
column for age of individuals and a separate column for sex.</p>
</div>
<div class="section level3">
<h3 id="inconsistency-in-used-values">
<a name="consistency"></a> 8. Inconsistency in used values<a class="anchor" aria-label="anchor" href="#inconsistency-in-used-values"></a></h3>
<p>Using “synonyms” or alternatives to describe the same values.</p>
<p>For example: <code>E. Coli</code>, <code>EColi</code>,
<code>Escherichia coli</code> in the same table</p>
</div>
<div class="section level3">
<h3 id="using-problematic-field-names">
<a name="field_name"></a> 9. Using problematic field names<a class="anchor" aria-label="anchor" href="#using-problematic-field-names"></a></h3>
<p>Choose descriptive field names, but be careful not to include spaces,
numbers, or <strong>special characters</strong> of any kind (including
national characters: óęłńöüä). Spaces can be misinterpreted by parsers
that use whitespaces as delimiters and some programs don’t like field
names that are text strings starting with numbers (e.g. Excel).</p>
<p>Underscores (<code>_</code>) are a good alternative to spaces.
Consider writing names in camel case (like this: ExampleFileName) to
improve readability.</p>
<p>Remember that abbreviations that make sense at the moment may not be
so obvious in 6 months, but don’t overdo it with names that are
excessively long.</p>
<p>Including the units in the field names avoids confusion and enables
others to readily interpret your fields. Or add a separate row to help
automatic unit conversions.</p>
<p><strong>Examples</strong></p>
<table align="left" style="width =50%; border: 1px solid black;" class="table"><tr><td>
<b>Good Name</b>
</td>
<br><td>
<b>Good Alternative </b>
</td>
<br><td>
<b>Avoid </b>
</td>
<br></tr><tr><td>
Max_temp_C
</td>
<td>
MaxTemp
</td>
<td>
Maximum Temp (°C)
</td>
</tr><tr><td>
Precipitation_mm
</td>
<td>
Precipitation
</td>
<td>
precmm
</td>
</tr><tr><td>
Mean_year_growth
</td>
<td>
MeanYearGrowth
</td>
<td>
Mean growth/year
</td>
</tr><tr><td>
sex
</td>
<td>
sex
</td>
<td>
M/F
</td>
</tr><tr><td>
weight
</td>
<td>
weight
</td>
<td>
w.
</td>
</tr><tr><td>
cell_type
</td>
<td>
CellType
</td>
<td>
Cell Type
</td>
</tr><tr><td>
Observation_01
</td>
<td>
first_observation
</td>
<td>
1st Obs
</td>
</tr></table></div>
<div class="section level3">
<h3 id="using-special-characters-in-data">
<a name="special"></a> 10. Using special characters in data<a class="anchor" aria-label="anchor" href="#using-special-characters-in-data"></a></h3>
<p>For example, when writing longer text in a cell, people often include
line breaks, em-dashes, etc in their spreadsheet. Also, when copying
data from applications such as Word, formatting and ‘fancy’ non-standard
characters (such as left- and right-aligned quotation marks) are
included. When exporting this data into a coding/statistical environment
or into a relational database, dangerous things may occur, such as lines
being cut in half and encoding errors being thrown.</p>
<p>General best practice is to avoid adding characters such as new
lines, tabs, vertical tabs and sadly, national characters. In other
words, treat a text cell as if it were a simple web form that can only
contain text and spaces.</p>
</div>
<div class="section level3">
<h3 id="values-without-field-labels">
<a name="metadata"></a> 11. Values without field labels<a class="anchor" aria-label="anchor" href="#values-without-field-labels"></a></h3>
<p>It may be obvious for us that a cell
<code>Ann Smart and Daniele Hardwork</code> contains authors and
<code>Starch content in Arabidopis T. under different light conditions</code>
is a title, but this is not obvious for a computer program.</p>
<p>Always label values as the column header, or as a first field on the
left:</p>
<pre><code>Author  |  Ann Smart  |  Daniele Hardwork
Title   |  Starch content in Arabidopis T. under different light conditions</code></pre>
<div id="exercise-2-spotting-problems" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2-spotting-problems" class="callout-inner">
<h3 class="callout-title">Exercise 2: Spotting problems<a class="anchor" aria-label="anchor" href="#exercise-2-spotting-problems"></a>
</h3>
<div class="callout-content">
<p>(5 min + 4 talking)</p>
<p>Look at the following rows and columns in the problematic table:</p>
<ul><li>Row 5</li>
<li>Row 2</li>
<li>Column C</li>
<li>Column E</li>
<li>Column L <img src="./fig/bad-metadata.png" alt="bad-metadata" class="figure"></li>
</ul><p>which of the problems discussed above can you spot in these rows and
column?</p>
<p>Here, we list them again:</p>
<ol style="list-style-type: decimal"><li>Using multiple tables</li>
<li>Using multiple tabs</li>
<li>Not filling in zeros</li>
<li>Using problematic null values</li>
<li>Using formatting to convey information and organizing data</li>
<li>Placing comments or units in cells</li>
<li>Entering more than one piece of information in a cell</li>
<li>Inconsistency in used values</li>
<li>Using problematic field names</li>
<li>Using special characters in data</li>
<li>Values without field labels</li>
</ol><p>Type the problem number(s) next to the table elements</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<ul><li>Row 5: 5, 9</li>
<li>Row 2: 11, 7</li>
<li>Column C: 8</li>
<li>Column E: 6, 5</li>
<li>Column L: 3</li>
</ul></div>
</div>
</div>
</div>
</div>
</section><section id="clean-data-tables-make-life-easier"><h2 class="section-heading">Clean data tables make life easier<a class="anchor" aria-label="anchor" href="#clean-data-tables-make-life-easier"></a>
</h2>
<hr class="half-width"><p>(2 min teaching)</p>
<p>Let’s check the cleaned version of the previous <a href="./files/04-better-metadata.xlsx">file</a>.</p>
<p>Look how easy it is to calculate the average biomas, and if you have
Office365, see how easy it is to get average values per genotype.</p>
<p>Do you think it would take more effort to record data in a cleaned
way to start with, in comparison to the ‘bad example’ presented
before?</p>
<p>How long do you think it took to “clean” the original, problematic
data?</p>
<div id="exercise-3-outsmarted-by-excel-4-min" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-3-outsmarted-by-excel-4-min" class="callout-inner">
<h3 class="callout-title">Exercise 3: Outsmarted by Excel (4 min)<a class="anchor" aria-label="anchor" href="#exercise-3-outsmarted-by-excel-4-min"></a>
</h3>
<div class="callout-content">
<p>Excel has built in autoformatting functions which can make
biologist’s life more difficult</p>
<p>## Finding the right date</p>
<p>Open Excel and type following values into the cells:</p>
<table class="table"><thead><tr class="header"><th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
</tr></thead><tbody><tr class="odd"><td>Gene</td>
<td>SEPT2</td>
<td>Sample</td>
<td>0013</td>
<td>Record</td>
<td>12/5/4</td>
</tr><tr class="even"><td>Mar1</td>
<td>1 March</td>
<td>Mar-1</td>
<td>1-3</td>
<td>14/3/20</td>
<td>43904</td>
</tr></tbody></table><ul><li>Is what you see what you typed?</li>
<li>Can you force Excel to keep your formatting?</li>
<li>Do you know which year the dates represent?</li>
</ul></div>
</div>
</div>
<p>(7 min teaching)</p>
<p>A team of Australian researchers analyzed nearly 3,600 genetics
papers <a href="https://doi.org/10.1186/s13059-016-1044-7" class="external-link">Ziemann
2016</a>. As is common practice in the field, these papers all came with
supplementary files containing lists of genes used in research.</p>
<p>The Australian researchers found that roughly 1 in 5 of these papers
included errors in their gene lists that were due to Excel automatically
converting gene names to things like calendar dates or random
numbers.</p>
<p>Those errors actually forced the renaming of 27 gene symbols
including SEPT4 (now SEPTIN4) and MARCH1 (now MARCHF1).</p>
</section><section id="handling-dates"><h2 class="section-heading">Handling dates<a class="anchor" aria-label="anchor" href="#handling-dates"></a>
</h2>
<hr class="half-width"><p>Storing and handling dates can be problematic, even in programming
languages, as we often encounter dates in various formats that are
region-specific.</p>
<p>Have you ever been confused by a meeting date from an American
collaborator?</p>
<p>When dealing with dates that represent “real” data, such as sample
collection from a patient or field measurements, preventing
misinterpretations is crucial. There are two safe options:</p>
<div class="section level4">
<h4 id="store-dates-in-three-columns-for-year-month-and-day">Store dates in three columns for year, month, and day:<a class="anchor" aria-label="anchor" href="#store-dates-in-three-columns-for-year-month-and-day"></a></h4>
<table class="table"><thead><tr class="header"><th>Year</th>
<th>Month</th>
<th>Day</th>
</tr></thead><tbody><tr class="odd"><td>2021</td>
<td>3</td>
<td>16</td>
</tr><tr class="even"><td>2021</td>
<td>10</td>
<td>1</td>
</tr></tbody></table></div>
<div class="section level4">
<h4 id="or-store-the-date-as-an-iso-string">Or store the date as an <a href="https://en.wikipedia.org/wiki/ISO_8601" class="external-link">ISO</a> string:<a class="anchor" aria-label="anchor" href="#or-store-the-date-as-an-iso-string"></a></h4>
<p><code>YYYYMMDD</code> e.g., <code>20210316</code><br><code>YYYY-MM-DD</code> e.g., <code>2021-03-16</code></p>
<p>Even though the <code>YYYY-MM-DD</code> format is normally preferred,
it may unfortunately be reformatted by Excel according to your locale
when saving to text like .csv!</p>
<p>When using text files (.csv, .tsv), you should always document the
format you are using to represent dates.</p>
<div id="to-use-or-not-to-use-excel" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="to-use-or-not-to-use-excel" class="callout-inner">
<h3 class="callout-title">To Use or Not to Use Excel<a class="anchor" aria-label="anchor" href="#to-use-or-not-to-use-excel"></a>
</h3>
<div class="callout-content">
<p>The Excel file format <code>.xlsx</code> is now open, widely used,
and supported by external libraries, making it considered interoperable.
Nowadays, it is admissible as being FAIR.</p>
<p>However, plain text files like comma or tab-separated values (.csv,
.tsv) can be accessed without any special software. Data in a CSV file
can also be easily imported into other formats and environments, such as
SQLite and R. We are not tied to a certain version of a certain
expensive program when we work with CSV files, so it is a good format to
work with for maximum portability, interoperability, and endurance.</p>
<p>If such files are handled only with text editors or programmatically
(R, Python), then they are a safer option as they prevent the
autoformatting issues described before.</p>
<p>If you analyze your data with R or Python, or you know that your data
are meant to be processed that way, you should be using text formats
whenever possible, and as soon as you capture your data.</p>
<p>However, if you are used to only using Excel and so does your
community, just keep using it. Just be aware of the possible pitfalls
discussed, especially when working with gene or protein names and
accession numbers.</p>
</div>
</div>
</div>
<div id="cleaning-data-with-open-refine" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="cleaning-data-with-open-refine" class="callout-inner">
<h3 class="callout-title">Cleaning data with Open Refine<a class="anchor" aria-label="anchor" href="#cleaning-data-with-open-refine"></a>
</h3>
<div class="callout-content">
<p>Data cleaning and reorganization can be time-consuming, but there are
tools to make it easier.</p>
<p><a href="https://openrefine.org/" class="external-link">OpenRefine</a> is a powerful option
for tackling messy data. It can:</p>
<ul><li>Clean your data: Remove errors and inconsistencies.</li>
<li>Transform your data: Convert it between different formats.</li>
<li>Extend your data: Enrich it with web services and external
sources.</li>
</ul><p>OpenRefine lets you tackle common data quality issues. For example,
you can:</p>
<ul><li>Merge synonyms: Standardize terms like <code>"E. Coli"</code>,
<code>"EColi"</code>, and <code>"Escherichia coli"</code> into a single
term.</li>
<li>Split values: Separate entries in a <code>"Name"</code> field into
separate <code>"FirstName"</code> and <code>"LastName"</code>
fields.</li>
</ul><p><strong>Want to learn more?</strong></p>
<p>Check out this carpentry course specifically designed for ecologists:
<strong>Data Cleaning with OpenRefine for Ecologists: <a href="https://datacarpentry.org/OpenRefine-ecology-lesson/" class="external-link">https://datacarpentry.org/OpenRefine-ecology-lesson/</a></strong></p>
</div>
</div>
</div>
<div id="exercise-4-data-tables-and-fair-4-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-4-data-tables-and-fair-4-min" class="callout-inner">
<h3 class="callout-title">Exercise 4: Data tables and FAIR (4 min)<a class="anchor" aria-label="anchor" href="#exercise-4-data-tables-and-fair-4-min"></a>
</h3>
<div class="callout-content">
<p>Which of the following statements is true/false (T or F):</p>
<ul><li>Do’s and don’ts help in programmatic re-use:</li>
<li>Avoiding multiple tabs improves interoperability:</li>
<li>Having accompanying README file with a table description is not
FAIR:</li>
<li>No ‘spaces’ in columns headers improve readability:</li>
<li>2022-07-15 is ISO date format:</li>
<li>20220715 date format is better for excel than 2022-07-15:</li>
<li>“No data” is better than leaving cell “blank” for missing data:</li>
</ul></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<ul><li>Do’s and don’ts help in programmatic re-use: T</li>
<li>Avoiding multiple tabs improves interoperability: T</li>
<li>Having accompanying README file with a table description is not
FAIR: F</li>
<li>No ‘spaces’ in columns headers improve readability: F</li>
<li>2022-07-15 is ISO date format: T</li>
<li>20220715 date format is better for excel than 2022-07-15: T</li>
<li>“No data” is better than leaving cell “blank” for missing data:
F</li>
</ul></div>
</div>
</div>
</div>
<div class="keypoints:">
<ul><li>Never use formatting to encode information</li>
<li>Include only one piece of information in a cell</li>
<li>It is easier to store data in the correct form than to clean data
for reuse</li>
</ul></div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="02-Intro-to-metadata.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="04-files-organization.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="02-Intro-to-metadata.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Introduction to
        </a>
        <a class="chapter-link float-end" href="04-files-organization.html" rel="next">
          Next: Working with files... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/BioRDM/fair-for-busy-biologists/edit/main/episodes/03-tidy-data-tables.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/BioRDM/fair-for-busy-biologists/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/BioRDM/fair-for-busy-biologists/" class="external-link">Source</a></p>
				<p><a href="https://github.com/BioRDM/fair-for-busy-biologists/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:bio_rdm@ed.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.3" class="external-link">sandpaper (0.16.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.4" class="external-link">pegboard (0.7.4)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://BioRDM.github.io/fair-for-busy-biologists/03-tidy-data-tables.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "FAIR, data, data-management, biomedical",
  "name": "Tidy (meta)data tables",
  "creativeWorkStatus": "active",
  "url": "https://BioRDM.github.io/fair-for-busy-biologists/03-tidy-data-tables.html",
  "identifier": "https://BioRDM.github.io/fair-for-busy-biologists/03-tidy-data-tables.html",
  "dateCreated": "2024-03-22",
  "dateModified": "2024-03-22",
  "datePublished": "2024-04-02"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

