<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>FAIR for busy biologists: Reusable analysis</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="manifest" href="../site.webmanifest"><link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../05-reusable-analysis.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      FAIR for busy biologists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            FAIR for busy biologists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  FAIR for busy biologists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 54%" class="percentage">
    54%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 54%" aria-valuenow="54" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../05-reusable-analysis.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-OS-and-FAIR.html">1. Introduction to Open Science and FAIR principles</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-Intro-to-metadata.html">2. Introduction to metadata</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-data-in-excel.html">3. (Meta)data in Excel</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-files-organization.html">4. Working with files</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Reusable analysis
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#reusable-analysis">Reusable Analysis</a></li>
<li><a href="#reusable-computing">Reusable Computing</a></li>
<li><a href="#computational-notebooks---jupyter-notebook-for-fair-practices">Computational Notebooks - Jupyter Notebook for FAIR practices</a></li>
<li><a href="#jupyter-notebooks-are-easy-to-use-and-great-for-collaborative-efforts">Jupyter Notebooks are easy to use and great for collaborative
efforts</a></li>
<li><a href="#easy-sharing-of-your-notebook">Easy sharing of your notebook</a></li>
<li><a href="#plotting-in-r-or-python">Plotting in R or Python</a></li>
<li><a href="#ad-hoc-analysis-with-jupyter-notebooks">Ad-hoc analysis with Jupyter Notebooks</a></li>
<li><a href="#computing-in-r-and-python">Computing in R and Python</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-data-repositories.html">6. Public repositories</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="xTemplate.html">7. Using Markdown</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="../instructor/aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/04-files-organization.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/06-data-repositories.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/04-files-organization.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Working with files
        </a>
        <a class="chapter-link float-end" href="../instructor/06-data-repositories.html" rel="next">
          Next: Public repositories... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Reusable analysis</h1>
        <p>Last updated on 2024-02-29 |
        
        <a href="https://github.com/BioRDM/fair-for-busy-biologists/edit/main/episodes/05-reusable-analysis.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 90 minutes</p>
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How keep track of your data analysis procedure?</li>
<li>How to make reproducible plots?</li>
<li>What are Jupyter notebooks</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Recognise benefits of notebooks for analysis</li>
<li>Use a jupyter notebook and modify it</li>
<li>Understand notebooks role in being FAIR</li>
</ul></div>
</div>
</div>
</div>
</div>
<hr><section id="reusable-analysis"><h2 class="section-heading">Reusable Analysis<a class="anchor" aria-label="anchor" href="#reusable-analysis"></a>
</h2>
<hr class="half-width"><p>(~50 min teaching)</p>
<p>Data analysis and research are an iterative process. Experimental
measurements and their analysis will guide next steps within research,
e.g. identification of new targets for drug discovery, the invalidation
of a target would likely make us switch to a different target for target
validation. Or in large data, or omics experiments data is initially
explored, analysis method will be adjusted and modified, and so will
experimental procedures if adequate results have not been achieved.</p>
<p>This so called ad-hoc analysis will only after several iterations of
data exploration, retries, adjustments, and modifications to
experimental procedures lead to selection of suitable analysis methods
and parameters. One would then conduct statistical validation of results
and generate final results and graphs for publications. This process can
be difficult to track using conventional methods such as pen + paper and
Excel.</p>
</section><section id="reusable-computing"><h2 class="section-heading">Reusable Computing<a class="anchor" aria-label="anchor" href="#reusable-computing"></a>
</h2>
<hr class="half-width"><p>We have previously discussed electronic lab notebooks and their
benefit in being FAIR. If you are working with large datasets,
mathematical models, complex visualisations of your data then you might
already be frustrated by having to copy and paste your figures into your
electronic lab notebook after each iteration of new code (or generation
in Excel). You might also have lost track of which code corresponded to
which figure and why you changed your code last time.</p>
<p>There is a simple solution to this: <strong>Computational
notebooks</strong></p>
</section><section id="computational-notebooks---jupyter-notebook-for-fair-practices"><h2 class="section-heading">Computational Notebooks - Jupyter Notebook for FAIR practices<a class="anchor" aria-label="anchor" href="#computational-notebooks---jupyter-notebook-for-fair-practices"></a>
</h2>
<hr class="half-width"><p>Computational notebooks are essentially laboratory notebooks for
scientific computing. Instead of pasting DNA gels alongside lab
protocols, researchers embed code, data and text to document their
computational methods. A free and popular tool that is being used across
disciplines is <strong>the Jupyter notebook</strong>.</p>
<p><a href="../www.jupyter.org">Jupyter</a> Notebooks are interactive web
applications which allow you to type and edit lines of code in the
programming languages July (Ju), Python (Py), or R, hence it’s name
Jupyter, and view the output (e.g. graphs or calculations) immediately.
The huge benefit of such notebooks is that source code is mixed with
documentation, thus explaining experimental setup, analysis, results of
tables and plots throughout.</p>
<p>What you need to do is write the code that will analyse our data, and
explain the narrative behind the experiment and interpretation of the
results. For data scientists, this format can drive exploration via
interactive computing. This is an environment in which users execute
code, see what happens, modify and repeat in an iterative process
between researcher and data, in an ad-hoc way. As a basic principle
Jupyter Notebooks run on a ‘kernel’ which is responsible in execution of
the code. Generally this ‘kernel’ can run on your computer or you can
use external servers to store and analyse your data.</p>
<p>Notebooks can also be exported as .pdf and .html files which allow
easy sharing of outputs, and other tools such as <a href="https://nbviewer.org/" class="external-link">nbviewer</a>, an open-source service that
allows users to render their Jupyter notebooks on GitHub in a web
browser without having to install the software or any programming
libraries.</p>
<p>To show you how easy it is to work with Jupyter Notebooks, we have
created an exercise for you where we will work on “real-life” data from
an experiment looking at circadian influence on plants following
short-day and long-day light exposure. We will create some graphs and
test whether there are differences between our genotypes of arabidopsis
using the language R as an example.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">SH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode sh" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">The</span> example notebook and data files can be found in instructors folders.  </span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">The</span> most recent version are available via a separated github project:  </span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">[fair-jupyter]</span><span class="er">(</span><span class="ex">https://github.com/BioRDM/fair-jupyter</span><span class="kw">)</span></span></code></pre>
</div>
<div id="exercise-1-basics-of-jupyter-notebooks-5-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1-basics-of-jupyter-notebooks-5-min" class="callout-inner">
<h3 class="callout-title">Exercise 1: basics of Jupyter notebooks (5
min)<a class="anchor" aria-label="anchor" href="#exercise-1-basics-of-jupyter-notebooks-5-min"></a>
</h3>
<div class="callout-content">
<p>Navigate to the jupyter server, we will first show you how to
duplicate a notebook and save it and how to run the code:</p>
<ol style="list-style-type: decimal"><li><p>Select the notebook titled
‘student_notebook_light_conditions.ipynb’ as depicted below and click
‘Duplicate’. Confirm with Duplicate when you are asked if you are
certain that you want to duplicate the notebook. <img src=".././fig/10-01-duplicate_notebook.png" alt="Figure 1. Duplicate a Jupyter notebook" class="figure"><em>Figure 1. Duplicate
a Jupyter notebook</em></p></li>
<li><p>A copy of the notebook has appeared with the suffix ‘-Copy’ and a
number (<strong>Figure 2a</strong>), select this notebook. Have a look
around the notebook and explore its anatomy (<strong>Figure 2</strong>),
you should see experimental details, an image, and code. If you click on
separate parts of the notebook you can see that it is divided into
individual cells (<strong>Figure 2 e-g</strong>) which are of varying
type (Code, R in this case, or Markdown - <strong>Figure 2d</strong>).
Hashtags are comments within the code and shall help you to interpret
what individual bits of code do.</p></li>
</ol><p><img src=".././fig/10-02-jupyter_anatomy.png" alt="Figure 2. Anatomy of a Jupyter notebook: (a) depicts the name of the notebook, (b, c) are toolbars, (c) contains the most commonly used tools, (d) shows of what type - Markdown, Code etc… - the currently selected cell is, and (e-g) are examples of cells, where (e) shows the currently selected cell." class="figure"><br><em>Figure 2. Anatomy of a Jupyter notebook: (a) depicts the name of the
notebook, (b, c) are toolbars, (c) contains the most commonly used
tools, (d) shows of what type - Markdown, Code etc… - the currently
selected cell is, and (e-g) are examples of cells, where (e) shows the
currently selected cell.</em></p>
<ol style="list-style-type: decimal"><li>Change the title of the notebook (<strong>a</strong>) to your
initials e.g. “student_notebook_light_conditions_IB”</li>
<li>To Save the notebook click on the disk symbol in the toolbar
(<strong>c</strong>).</li>
<li>To run the code select the top cell of the notebook
(<strong>e</strong>) - this is likely pre-selected already - and click
“Run” in the tool bar (<strong>c</strong>). The selected cell jumps one
cell down (<strong>f</strong>).</li>
<li>To avoid having to press Run repeatedly until we are at the end of
the code (try clicking Run two more times and see what happens), we will
show you how to run all the code. In the top tool bar
(<strong>b</strong>) click “Cell” and select “Run All”. (“Cell &gt; Run
All”.)</li>
<li>If you have another look at the notebook you can see that a table,
graph and outputs of statistical testing have been generated.</li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Show me the solution</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>If you followed all steps correctly you should have reproduced the
table, a graph and statistical testing. Apart from the pre-filled
markdown text the rendered values of the code should look like this:
<img src=".././fig/10-03-jupyter_dataframe.png" alt="Figure 3. Rendering of data frame" class="figure"><br><em>Figure 3. Rendering of data frame</em> <img src=".././fig/10-04-jupyter_plot.png" alt="Figure 4. Rendering of plot" class="figure"><br><em>Figure 4. Rendering of plot</em></p>
</div>
</div>
</div>
</div>
<div id="exercise-2-how-to-add-and-remove-content-3-min" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-2-how-to-add-and-remove-content-3-min" class="callout-inner">
<h3 class="callout-title">Exercise 2: how to add and remove content (3
min)<a class="anchor" aria-label="anchor" href="#exercise-2-how-to-add-and-remove-content-3-min"></a>
</h3>
<div class="callout-content">
<p>In your previously saved notebook, we will now show you how to add
text and remove cells within your notebook. Additionally we will show
you how to change code:</p>
<ol style="list-style-type: decimal"><li>We want to change the author name to your name: Double click on the
cell containing the author name. You can see how the layout of the cell
changes into Markdown, and you can simply change the name.</li>
<li>Press the Run button in the toolbar and the Markdown of the cell
will be rendered again and you can see the text shows as
previously.</li>
<li>We now want to add some details about the “light_results.txt” file
which is being loaded. To add a cell above the code, click the cell
currently above the first lines of code and click the “+” in the
toolbar. This creates a cell below selected cell.</li>
<li>Now add a note about the file which is being loaded and the purpose
of the subsequent analysis: e.g. Loading of results following short- and
long-day light exposure on arabidopsis, followed by visualisation of
differences in chlorophyll/biomas etc… content between genotypes on
short-days and long-days. To show the cell as Markdown and not code,
make sure “Markdown” is selected in the toolbar.</li>
<li>To remove a cell, select it and click on the scissors icon in the
toolbar (This can be undone under Edit &gt; Undo Delete Cells).</li>
<li>To change the output of your graph click on the cell containing the
code below the “Visualise data” title. We want you to change the colours
of the box-plots. You can do this where the comment “# change colour of
groups” is written. Either you can use three different HEX codes (a
6-symbol code representing colours from white to black), or colours
simply by their name - e.g. dark blue, orange…</li>
<li>To save the graph under a different name add your initials to the
file name under which the image is being saved. Press Run again. Your
image should be visible in the overall file hierarchy.</li>
</ol></div>
</div>
</div>
<p>(3 min teaching)</p>
</section><section id="jupyter-notebooks-are-easy-to-use-and-great-for-collaborative-efforts"><h2 class="section-heading">Jupyter Notebooks are easy to use and great for collaborative
efforts<a class="anchor" aria-label="anchor" href="#jupyter-notebooks-are-easy-to-use-and-great-for-collaborative-efforts"></a>
</h2>
<hr class="half-width"><p>Imagine your collaborators have shared this experiment measuring
biomas of <em>Arabidopsis</em> with you and you were able to duplicate
and follow their entire analysis from start to finish, including
interpretation of data. Now you are interested in analysing what biomas
look like on long-days. You are in luck!</p>
<p>Because Jupyter Notebooks are so easy to handle you simply need to
copy and paste the already existing code your collaborators shared and
adapt variables such as short-day to long-day and change the names under
which figures are being saved to avoid duplication.</p>
<div id="exercise-3-add-another-analysis-step-10-min-including-walkthrough" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-3-add-another-analysis-step-10-min-including-walkthrough" class="callout-inner">
<h3 class="callout-title">Exercise 3: add another analysis step (10 min
including walkthrough)<a class="anchor" aria-label="anchor" href="#exercise-3-add-another-analysis-step-10-min-including-walkthrough"></a>
</h3>
<div class="callout-content">
<p>We have shown you how to manipulate text and code in Jupyter
notebooks, now we want you to add data visualisation (a graph) and stats
for long- day light condition: 1. Add additional cells including</p>
<ul><li>titles</li>
<li>edited code to depict graph from long-days and not short-days</li>
<li>Figure legend</li>
<li>statistical testing of difference between genotypes on
long-days</li>
<li>interpretation of results of statistical testing.</li>
</ul></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">Show me the solution</h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>## Solution The following code will result in your new graph:</p>
<pre><code><span>    <span class="fu">ggplot</span><span class="op">(</span><span class="fu">subset</span><span class="op">(</span><span class="va">df</span>, <span class="va">light_condition</span> <span class="op">%in%</span> <span class="st">"LD"</span><span class="op">)</span>, </span>
<span>    <span class="co"># subset only SD from &gt;&gt;light condition column for plotting</span></span>
<span>          mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">genotype</span>, y <span class="op">=</span> <span class="va">biomas</span>, fill <span class="op">=</span> <span class="va">genotype</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="co"># x-axis shows genotype, y-axis shows biomas</span></span>
<span>       <span class="fu">geom_boxplot</span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Biomas per Genotype on long days"</span>,</span>
<span>           x <span class="op">=</span> <span class="st">"Genotype"</span>, <span class="co"># Title of x-axis</span></span>
<span>           y <span class="op">=</span> <span class="st">"Biomas (g)"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># Title of y-axis</span></span>
<span>       <span class="co"># change colour of groups</span></span>
<span>       <span class="fu">scale_fill_manual</span><span class="op">(</span>values<span class="op">=</span><span class="fu">c</span><span class="op">(</span><span class="st">"#999999"</span>, <span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>       <span class="fu">theme</span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span><span class="op">)</span></span></code></pre>
<p>The following code will result in testing of biomas between genotypes
in long-days - we assign a new variable to separate both analysis.</p>
<pre><code><span>   <span class="va">res.aov.LD</span> <span class="op">&lt;-</span> <span class="fu">aov</span><span class="op">(</span><span class="va">biomas</span> <span class="op">~</span> <span class="va">genotype</span>, data <span class="op">=</span> <span class="fu">subset</span><span class="op">(</span><span class="va">df</span>, <span class="va">light_condition</span> <span class="op">%in%</span> <span class="st">"LD"</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="co"># Summary of the analysis</span></span>
<span>   <span class="fu">summary</span><span class="op">(</span><span class="va">res.aov.LD</span><span class="op">)</span></span></code></pre>
<p>The following code will result in Tukey multiple pairwise-comparison
testing.</p>
<pre><code><span>     <span class="co"># conduct Tukey multiple pairwise-comparison</span></span>
<span>     <span class="fu">TukeyHSD</span><span class="op">(</span><span class="va">res.aov.LD</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</section><section id="easy-sharing-of-your-notebook"><h2 class="section-heading">Easy sharing of your notebook<a class="anchor" aria-label="anchor" href="#easy-sharing-of-your-notebook"></a>
</h2>
<hr class="half-width"><p>We have now managed to not only reproduce code, but we were able to
add to the analysis and interpretation of overall results. To show your
PI and colleagues your results, you want to save the notebook in
readable format.</p>
<div id="exercise-4-sharing-of-your-jupyter-notebook-5-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-4-sharing-of-your-jupyter-notebook-5-min" class="callout-inner">
<h3 class="callout-title">Exercise 4: Sharing of your Jupyter Notebook
(5 min)<a class="anchor" aria-label="anchor" href="#exercise-4-sharing-of-your-jupyter-notebook-5-min"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>Download your Notebook (ensure all code has been run) as .html</li>
<li>View the documents and think about why it is important to run all
code before download (try Cell &gt; All Output &gt; Clear and download
your Notebook then and compare)</li>
</ol></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3">Show me the solution</h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>It is important all code is run before the notebook is downloaded, as
during download only the text and graphs are saved that are currently
visible in your notebook.</p>
</div>
</div>
</div>
</div>
<p>The example notebook is extremely well documented to show the good
practices when coding. Without such level of comments and explanations
it may not be possible for new-commers to re-use this notebook.</p>
</section><section id="plotting-in-r-or-python"><h2 class="section-heading">Plotting in R or Python<a class="anchor" aria-label="anchor" href="#plotting-in-r-or-python"></a>
</h2>
<hr class="half-width"><p>Plotting in R or Python is often a natural starting point to learn
programming and allows to create more professional scientific plots than
those available in Excel. Additionally, these plots are easier to
recreate, and easier to adjust for specific dimensions and journal
formatting guidelines. Using code it is very easy to prepare series of
figures that follow the same formatting of all their elements.</p>
</section><section id="ad-hoc-analysis-with-jupyter-notebooks"><h2 class="section-heading">Ad-hoc analysis with Jupyter Notebooks<a class="anchor" aria-label="anchor" href="#ad-hoc-analysis-with-jupyter-notebooks"></a>
</h2>
<hr class="half-width"><p>Notebook can document entire ad-hoc analysis. It can capture the
motivations and decisions which lead us to the final results (as the
markdown-cells).<br>
It contains information about the input data uses, the actual parameters
and functions called.<br>
It can include intermediate results, adjustment made.<br>
It captures all the steps that lead to the final result which can be
accompanied with the conclusions.</p>
<p>One thing to keep in mind is that your reusable analysis with Jupyter
is only ever as good as your self discipline. Things you want to keep in
mind are:</p>
<ul><li>document the entire decision process and motivations behind it</li>
<li>document input data</li>
<li>document parameters and their significance</li>
<li>decide what data you want to retain and clean - annotate why</li>
<li>comment your code where necessary</li>
<li>follow coding good practices (in naming variables, functions, in
code formatting)</li>
<li>Notebook has to be shipped with all file inputs and description of
runtime environment</li>
</ul><p>Notebooks are very well suited to:</p>
<ul><li>orchestrate „short”, step by step operations in R, python, shell
(notebooks can use all 3 at the same time)</li>
<li>capture parameters</li>
<li>add interpretations</li>
<li>act as a „flexible” user interface (user can change the runtime
parameters in the notebook following the embedded instructions)</li>
</ul><p>However, notebooks should not be used a replacement of integrated
development environment (IDE) and writing modularized, split into
packages code. They are not suitable to write a long programs, long
executable code should be compiled into stand alone modules.</p>
<div id="exercise-5-accessibility-of-jupyter-notebooks-5-min" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-5-accessibility-of-jupyter-notebooks-5-min" class="callout-inner">
<h3 class="callout-title">Exercise 5: Accessibility of Jupyter Notebooks
(5 min)<a class="anchor" aria-label="anchor" href="#exercise-5-accessibility-of-jupyter-notebooks-5-min"></a>
</h3>
<div class="callout-content">
<p>On a scale from -2 to 2, how do you feel about the following
statements (R is interchangeable with Python), where -2 (strongly
disagree), 0 no pinion to +2 strongly agree:</p>
<ul><li>making graphs for a subset of data is easier in R than in Excel</li>
<li>it is easier to filter for data in R than in Excel</li>
<li>it is easier to apply formulas or calculations in R than in
Excel</li>
<li>it is easier to generate a series of plots with similar layout in R
than Excel</li>
<li>it is easier to do large scale data processing in R than in
Excel</li>
<li>using notebooks does not require any programming knowledge</li>
<li>notebooks give you a better overview of your data processing than
Excel</li>
<li>Jupyter is free, whilst a Microsoft Office (+Excel) suite costs
$149.99, this alone is an incentive to use Jupyter notebooks as not all
individuals have Microsoft Office supported by their employers</li>
<li>you need to learn R to do any data processing in notebook</li>
</ul></div>
</div>
</div>
</section><section id="computing-in-r-and-python"><h2 class="section-heading">Computing in R and Python<a class="anchor" aria-label="anchor" href="#computing-in-r-and-python"></a>
</h2>
<hr class="half-width"><p>Both languages are flexible and easy to start. They permit quickly
achieve the desired effect, have things done with minimal setup and
lines of codes. However, because of their flexibility it is easy to pick
up bad habits and write code without much understanding of good
practices of software engineering.</p>
<p>For the journey into scientific computing we recommend:</p>
<ul><li>Firstly, learn how to make simple plots, clean/reorganize files and
data tables</li>
<li>Secondly, learn basics of software engineering and good programming
practices</li>
<li>Then start coding advanced analysis and processing, construct
pipelines with workflows</li>
</ul><p>One of the pitfalls of R and Python is that their behaviour depends
on libraries installed on your machine, not only R o Python libraries
but also the system one. It often creates situation in which the code
works on one machine but does not work on another.</p>
<p>There are ways of dealing with those issues, for example, for Python,
there is a package management system called Conda. Conda installs, runs,
and updates packages and their dependencies. Conda can switch between
project environments, so each project can have its own set of installed
libraries and their versions.<br>
Conda support many languages (Python, R, Ruby, Lua, Scala, Java,
JavaScript, C, C++, FORTRAN) but it is particularly well suited for
Python.</p>
<p>In our experience, for R renv works better than conda.</p>
<p>As a rule, despite the package managment system used, you should try
to keep track of what libraries you installed during your code
development and in what versions.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">SH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode sh" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co">## Attribution</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a> <span class="ex">Content</span> of this episode was adopted after</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a> <span class="ex">*</span> [Why Jupyter is a data scientists<span class="st">' computational notebook of choice](https://doi.org/10.1038/d41586-018-07196-1)</span></span></code></pre>
</div>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="section level3 callout-title callout-inner">
<h3 class="callout-title" id="further-reading">Further Reading<a class="anchor" aria-label="anchor" href="#further-reading"></a></h3>
<div class="callout-content">
<ul><li><a href="https://reproducible-analysis-workshop.readthedocs.io/en/latest/4.Jupyter-Notebook.html" class="external-link">Reproducible
analysis and Research Transparency</a></li>
<li><a href="https://www.browserstack.com/guide/coding-standards-best-practices" class="external-link">Coding
Standards best practices</a></li>
</ul></div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Jupyter Notebooks are useful tools to share analysis with
non-programmers</li>
<li>One single document can visualise background, results, formulae/code
and metadata</li>
<li>One single document helps to make your work more understandable,
repeatable and shareable</li>
</ul></div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/04-files-organization.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/06-data-repositories.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/04-files-organization.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Working with files
        </a>
        <a class="chapter-link float-end" href="../instructor/06-data-repositories.html" rel="next">
          Next: Public repositories... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/BioRDM/fair-for-busy-biologists/edit/main/episodes/05-reusable-analysis.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/BioRDM/fair-for-busy-biologists/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/BioRDM/fair-for-busy-biologists/" class="external-link">Source</a></p>
				<p><a href="https://github.com/BioRDM/fair-for-busy-biologists/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:bio_rdm@ed.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.2" class="external-link">sandpaper (0.16.2)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.3" class="external-link">pegboard (0.7.3)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://BioRDM.github.io/fair-for-busy-biologists/instructor/05-reusable-analysis.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "FAIR, data, data-management, biomedical",
  "name": "Reusable analysis",
  "creativeWorkStatus": "active",
  "url": "https://BioRDM.github.io/fair-for-busy-biologists/instructor/05-reusable-analysis.html",
  "identifier": "https://BioRDM.github.io/fair-for-busy-biologists/instructor/05-reusable-analysis.html",
  "dateCreated": "2024-03-01",
  "dateModified": "2024-02-29",
  "datePublished": "2024-03-01"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

